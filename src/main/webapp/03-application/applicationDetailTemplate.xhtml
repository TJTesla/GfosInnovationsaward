<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:k="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xml:lang="en" lang="en">

<body>
    <ui:composition>
        <h:outputStylesheet library="css" name="applicationDetail.css" />
        <h1>Bewerbungsformular:</h1>
        <div style="padding-bottom: 20px;">
            <h:outputLabel for="offer" value="Jobangebot:" styleClass="label-applDetail" />
            <h:outputText id="offer" value="#{detailApplication.offer.title}" styleClass="text-applDetail" />
            <br />
            <div>
                <h:outputLabel for="salutation" value="Anrede:" rendered="false" styleClass="label-applDetail" />
                <h:outputText id="salutation" value="#{detailApplication.salutationString()}" rendered="false" styleClass="text-applDetail" />
                <br />

                <h:outputLabel for="title" value="Titel:" styleClass="label-applDetail" rendered="true"/>
                <ui:repeat id="title" var="title" value="#{detailApplication.titles()}" varStatus="" rendered="true">
                    <h:outputText value="#{title}, " styleClass="text-applDetail" />
                </ui:repeat>
                <br />

                <h:outputLabel for="name" styleClass="label-applDetail" value="Name:" />
                <h:outputText id="name" value="#{detailApplication.applicant.lastname}, #{detailApplication.applicant.firstname}"
                              styleClass="text-applDetail" />
                <br />

                <h:outputLabel for="email" styleClass="label-applDetail" value="E-Mail:" />
                <h:outputText id="email" value="#{detailApplication.applicant.email}" styleClass="text-applDetail" />
                <br />

            </div>
            <div>
                <h:outputLabel for="lom" value="Bewerbungsschreiben:" styleClass="label-applDetail"/> <br />
                <div class="textArea-applDetail">
                    <h:outputText id="lom" value="
            #{detailApplication.application.text}" styleClass="text-applDetail" style="font-size: 13px;" />
                </div>

                <br />

                <h:form enctype="multipart/form-data">
                    <!-- Way to depict the pdf directly? -->
                    <h:outputLabel for="cv" value="Lebenslauf:" styleClass="label-applDetail"/>
                    <p:commandButton id="cv" ajax="false" value="Herunterladen" styleClass="btn-cv-download" action="missing">
                        <p:fileDownload value="#{detailApplication.resume()}" />
                    </p:commandButton>
                </h:form>

            </div>
        </div>
    </ui:composition>
</body>
</html>