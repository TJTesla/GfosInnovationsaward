<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:k="http://xmlns.jcp.org/jsf/passthrough">

<!--f:metadata>
    <f:viewAction action="#{indexController.checkLogIn()}" />
</f:metadata-->

<h:head>
    <title>Karierre</title>

</h:head>

<h:body>
    <!-- TODO: Still needs to be implemented and tested properly -->
    <ui:composition template="resources/templates/common.xhtml">
        <ui:define name="content">
            <h:outputStylesheet library="css" name="index.css" />
            <h:outputScript library="javascript" name="index.js" />
            <h:form>
                <div class="filter">
                    <!--h:inputText id="place" k:placeholder="Standort" styleClass="input-location" /-->
                    <h:inputText value="#{indexController.maxDistance}" k:placeholder="Umfeld (in km)" styleClass="input-location" />
                    <div class="dropdown">
                        <button class="dropbtn" id="dropbtnField" type="button">Berufsfeld <i class="pi pi-caret-down" /></button>
                        <div class="navContent" id="dropdownField">
                            <ui:repeat id="field" var="f" value="#{indexController.allFields}" varStatus=""> <!-- TODO: controller method for all categories -->
                                <div class="a">
                                    <h:selectBooleanCheckbox styleClass="checkBox" value="#{indexController.field[f.first()]}" />
                                    <h:outputLabel styleClass="checkLabel" value="#{f.second()}" />
                                </div>
                            </ui:repeat>

                            <!--h:selectOneMenu id="field" value="#{indexController.field}">
                                <f:selectItems value="#{indexController.allFields}" var="t" itemValue="#{t.first()}" itemLabel="#{t.second()}" />
                            </h:selectOneMenu-->
                        </div>
                    </div>

                    <div class="dropdown">
                        <button class="dropbtn" id="dropbtnLevel" type="button">Einstieglevel <i class="pi pi-caret-down" /></button>
                        <div class="navContent" id="dropdownLevel">
                            <ui:repeat id="level" var="l" value="#{indexController.allLevels}" varStatus=""> <!-- TODO: controller method for all categories -->
                                <div class="a">
                                    <h:selectBooleanCheckbox styleClass="checkBox" value="#{indexController.level[l.first()]}" />
                                    <h:outputLabel styleClass="checkLabel" value="#{l.second()}" />
                                </div>
                            </ui:repeat>

                            <!--h:selectOneMenu id="level" value="#{indexController.level}">
                                <f:selectItems value="#{indexController.allLevels}" var="t" itemValue="#{t.first()}" itemLabel="#{t.second()}" />
                            </h:selectOneMenu-->
                        </div>
                    </div>

                    <div class="dropdown">
                        <button class="dropbtn" id="dropbtnTime" type="button">Arbeitszeit <i class="pi pi-caret-down" /></button>
                        <div class="navContent" id="dropdownTime">
                            <ui:repeat id="time" var="t" value="#{indexController.allTimes}" varStatus=""> <!-- TODO: controller method for all categories -->
                                <div class="a">
                                    <h:selectBooleanCheckbox styleClass="checkBox" value="#{indexController.time[t.first()]}" />
                                    <h:outputLabel styleClass="checkLabel" value="#{t.second()}" />
                                </div>
                            </ui:repeat>

                            <!--h:selectOneMenu id="time" value="#{indexController.time}">
                                         <f:selectItem itemValue="-1" itemLabel="Zeitumfang" />
                                <f:selectItems value="#{indexController.allTimes}" itemValue="#{t.first()}" itemLabel="#{t.second()}" />
                            </h:selectOneMenu-->
                        </div>
                    </div>

                    <div class="select-pref">
                        <h:outputLabel for="otherPrefs" value="Sonstiges" styleClass="label-pref" />
                        <h:selectOneMenu id="otherPrefs" styleClass="menu-pref">
                            <f:selectItem itemValue="none" itemLabel="Nicht ausgewÃ¤hlt" styleClass="a" />
                            <f:selectItem itemValue="0" itemLabel="Bereits beworben" styleClass="a" />
                            <f:selectItem itemValue="1" itemLabel="Noch nicht beworben" styleClass="a" />
                        </h:selectOneMenu>
                    </div>
                    <div class="select-fav">
                        <h:outputLabel for="check-fav" value="Favoriten" styleClass="label-fav" />
                        <h:selectBooleanCheckbox id="check-fav" value="true" styleClass="check-fav" />
                    </div>
                </div>
                <div class="applyBtn">
                    <h:commandButton value="Anwenden" action="#{indexController.reload()}" styleClass="navBtn" />
                </div>
            </h:form>


            <div class="offers">
                <div class="border-line"> </div>
                <ui:repeat id="offers" var="offer" value="#{indexController.allOffers}" varStatus="">
                    <div class="allOffers">
                        <h:graphicImage value="" />
                        <h:outputLabel id="title" value="#{offer.title}" styleClass="offer-label" />
                        <br />
                        <div class="offer-attr">
                            <i class="pi pi-map-marker">&nbsp;</i>
                            <h:outputText id="location" value="Essen" styleClass="offer-location" />
                        </div>
                        <div class="offer-attr">
                            <i class="pi pi-briefcase">&nbsp;</i>
                            <h:outputText id="field" value="Etwas" styleClass="offer-field" />
                        </div>
                        <div class="offer-btn">
                            <h:form>
                                <p:commandButton action="/02-offer/offer" styleClass="btn-toOffer" icon="pi pi-angle-right" />
                            </h:form>
                        </div>
                    </div>
                </ui:repeat>
            </div>

        </ui:define>
    </ui:composition>

<!--h:dataTable value="#{indexController.allOffers}" var="i">
    <h:column>
        <f:facet name="header">Titel </f:facet>
        <h:outputText value="#{i.title}" />
    </h:column>
    <h:column>
        <f:facet name="header">description</f:facet>
        <h:outputText value="#{i.description}" />
    </h:column>

</h:dataTable-->
    <h:outputScript library="javascript" name="index.js" />
</h:body>

</html>
